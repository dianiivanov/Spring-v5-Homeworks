# Spring-v5-Homeworks

Да се реализира със Spring 5 платформа + Spring Boot + Spring Data Mongo + Spring Security уеб услуга в стил Representational State Transfer (REST API)  за потребители (Users) споделящи готварски рецепти (Cooking Recipes). Реализираната REST API уеб услуга следва да предлага  Create-Read-Update-Delete (CRUD) функционалност за потребителите и техните готварски рецепти.

За всеки потребител (User) се съхранява следната информация (с валидация на данните):

идентификатор на записа (MongoDB ObjectID - 24 символа);
уникално име на потребителя;
login име (Username - до 15 символа - word characters);
парола (поне 8 символа, поне една цифра и знак различен от буква и цифра);
пол;
потребителска роля (user или admin);
снимка на потребителя (може да бъде Data URL във формат data: [<mediatype></mediatype>][;base64],<data></data> или валиден нормален URL, ако липсва се замества с URL на аватара по подразбиране в зависимост от пола);
кратко представяне на потребителя (до 512 символа);
статус на валидност на акаунта - (active, suspended или deactivated);
дата и час на регистрация (генерира се автоматично);
дата и час на последна модификация (генерира се автоматично);
За всяка рецепта (Recipe) се съхранява следната информация (с валидация на данните):
идентификатор на рецептата (MongoDB ObjectID - 24 символа);
идентификатор на потребителя споделил рецептата (MongoDB ObjectID - 24 символа);
име на рецептата (до 80 символа);
кратко описание на рецептата (до 256 символа);
време за приготвяне (в минути);
използвани продукти (списък от продукти - JSON Array);
снимка на резултата от рецептата (може да бъде Data URL във формат data: [<mediatype></mediatype>][;base64],<data></data> или друг валиден URL, задължителен атрибут);
подробно описание (до 2048 символа);
ключови думи - tags (списък от тагове - JSON Array);
дата и час на споделяне (генерира се автоматично);
дата и час на последна модификация (генерира се автоматично);
Реализацията трябва да бъде съобразена с препоръките и изискванията на REST архитектурния стил и HTTP стандарта на W3C.
Реализирайте web endpoints: /api/register и /api/login, към който с POST заявки потребителите се регистрират и се логват с потребителско име и парола, в резултат на което получават токен  - Json Web Token (JWT), който изпращат при всички последващи заявки. (20 точки)
Реализирайте collection level resource: /api/users, достъпно само за admin роля, към който отиват collection GET (GET all users) и POST заявките. В отогвор на POST заявка следва REST endpoint-a да върне HTTP статус: 201 Created с header Location, който да връща individual level resource URI на новосъздадения ресурс - напр: /api/users/5cb7510d69168b597c9206d8, ако новият потребител има ID=5cb7510d69168b597c9206d8. (10 точки)
POST заявките към /api/users следва да създават нов потребител с валидиране на подадените данни като структура и съдържание, както е описано по-горе. (5 точки)
Новосъздадените записи следва да бъдат запазени в MongoDB база с име cooking, в колекция users. При неуспешен запис на данните следва да се върне подходящ HTTP статус код и информация за грешката в JSON формат. (10 точки)
Реализирайте individual level resource: /api/users/:userId/, към който отиват read (GET), update (PUT) и delete (DELETE) заявките (достъпно само за admin роля). (15 точки),
Заявките към /api/users/:userId следва да бъдат валидирани като структура и съдържание, както е описано по-горе. (5 точки)
Променените/изтрити записи следва да се актуализират в MongoDB колекцията users. (10 точки)
Реализирайте collection level resource: /api/recipes, към който отиват collection GET (GET all user recipes) и POST заявките. В отговор на POST заявка следва REST endpoint-a да върне HTTP статус: 201 Created с header Location, който да връща individual level resource URI на новосъздадения ресурс - напр: /api/users/5cb7510d69168b597c9206d8/recipes/7ba7510d69168b597c9206a5, ако новата рецепта има ID=7ba7510d69168b597c9206a5. (10 точки)
POST заявките към /api/recipes следва да са достъпни само за регистрирани потребители и създават нова рецепта споделена от съответния потребител с валидиране на подадените данни като структура и съдържание, както е описано по-горе. (5 точки)
Новосъздадените записи следва да бъдат запазени в MongoDB база с име cooking, в колекция recipes. При неуспешен запис на данните следва да се върне подходящ HTTP статус код и информация за грешката в JSON формат. (10 точки)
Реализирайте individual level resource: /api/recipes/:recipeId, достъпни само за регистрирани потребители и само за рецептите на които са автори или ако са администратори за всички рецепти, към който отиват read (GET), update (PUT) и delete (DELETE) заявките за рецептите споделени от съответния потребител. (15 точки),
Заявките към /api/recipes/:recipeId следва да бъдат валидирани като структура и съдържание, както е описано по-горе. (5 точки)
Променените/изтрити записи следва да се актуализират в MongoDB колекцията recipes. (10 точки)
Не забравяйте да върнете подходящ статус код при възникване на грешка към уеб клиента, в зависимост от вида на грешката (4XX или 5XX). (10 точки)